process DataOOut = {
  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
    # read FEVT file
    untracked vstring fileNames = { "file:events.root" }
    untracked int32 maxEvents = 50
  }

  include "Configuration/EventContent/data/RECOOutput.cff"
  include "Configuration/EventContent/data/AODOutput.cff"

  include "Configuration/EventContent/test/objectCounting.cff"

  module RECO = PoolOutputModule {
    untracked string fileName = "reco.root"
    using RECOOutput
  }

  module RECO_1 = PoolOutputModule {
    untracked string fileName = "reco_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using RECOOutput
  }  

  module AOD = PoolOutputModule {
    untracked string fileName = "aod.root"
    using AODOutput
  }

  module AOD_1 = PoolOutputModule {
    untracked string fileName = "aod_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using AODOutput
  }

  module printEventNumber = AsciiOutputModule { }

  module processOneEvent = StopAfterNEvents { int32 maxEvents = 1 }

  path firstEvent = { processOneEvent }

  endpath out = {
    RECO, RECO_1, AOD, AOD_1, printEventNumber
  }
}
