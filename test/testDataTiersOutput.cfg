process DataOOut = {
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  include "Configuration/EventContent/data/RECOOutput.cff"
  include "Configuration/EventContent/data/AODOutput.cff"
  include "Configuration/EventContent/data/RECOSIMOutput.cff"
  include "Configuration/EventContent/data/AODSIMOutput.cff"
  include "Configuration/EventContent/data/FEVTOutput.cff"
  include "Configuration/EventContent/test/objectCounting.cff"

  source = PoolSource {
    # read FEVT file
    untracked vstring fileNames = { "file:events.root" }
    untracked int32 maxEvents = 50
  }
  module RECO = PoolOutputModule {
    untracked string fileName = "reco.root"
    using RECOOutput
  }

  module RECO_1 = PoolOutputModule {
    untracked string fileName = "reco_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using RECOOutput
  }  

  module FEVT = PoolOutputModule {
    untracked string fileName = "fevt.root"
    using FEVTOutput
  }

  module AOD = PoolOutputModule {
    untracked string fileName = "aod.root"
    using AODOutput
  }

  module AOD_1 = PoolOutputModule {
    untracked string fileName = "aod_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using AODOutput
  }

  module RECOSIM = PoolOutputModule {
    untracked string fileName = "recosim.root"
    using RECOSIMOutput
  }

  module RECOSIM_1 = PoolOutputModule {
    untracked string fileName = "recosim_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using RECOSIMOutput
  }  

  module AODSIM = PoolOutputModule {
    untracked string fileName = "aodsim.root"
    using AODSIMOutput
  }

  module AODSIM_1 = PoolOutputModule {
    untracked string fileName = "aodsim_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using AODSIMOutput
  }

  module printEventNumber = AsciiOutputModule { }

  module processOneEvent = StopAfterNEvents { int32 maxEvents = 1 }

  path firstEvent = { processOneEvent }

  endpath out = {
    RECO, RECO_1, 
    AOD, AOD_1, 
    RECOSIM, RECOSIM_1, 
    AODSIM, AODSIM_1, 
    FEVT,
    printEventNumber
  }
}
