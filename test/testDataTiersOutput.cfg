process DataOOut = {
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  include "Configuration/EventContent/data/EventContent.cff"

  source = PoolSource {
    # read FEVT file
    untracked vstring fileNames = { 
      "/store/unmerged/RelVal/2007/1/18/RelVal120BJets50-120/FEVT/0006/0CBA0020-3AA7-DB11-A162-000E0C3F0C60.root",
      "/store/unmerged/RelVal/2007/1/18/RelVal120BJets50-120/FEVT/0006/3817A240-3AA7-DB11-9413-000E0C3F0877.root"
    }
    untracked int32 maxEvents = 101
  }
  module RECO = PoolOutputModule {
    untracked string fileName = "reco.root"
    using RECOEventContent
  }

  module RECO_1 = PoolOutputModule {
    untracked string fileName = "reco_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using RECOEventContent
  }  

  module FEVT = PoolOutputModule {
    untracked string fileName = "fevt.root"
    using FEVTEventContent
  }

  module FEVT_1 = PoolOutputModule {
    untracked string fileName = "fevt_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using FEVTEventContent
  }

  module AOD = PoolOutputModule {
    untracked string fileName = "aod.root"
    using AODEventContent
  }

  module AOD_1 = PoolOutputModule {
    untracked string fileName = "aod_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using AODEventContent
  }

  module RECOSIM = PoolOutputModule {
    untracked string fileName = "recosim.root"
    using RECOSIMEventContent
  }

  module RECOSIM_1 = PoolOutputModule {
    untracked string fileName = "recosim_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using RECOSIMEventContent
  }  

  module AODSIM = PoolOutputModule {
    untracked string fileName = "aodsim.root"
    using AODSIMEventContent
  }

  module AODSIM_1 = PoolOutputModule {
    untracked string fileName = "aodsim_1event.root"
    untracked PSet SelectEvents = {
      vstring SelectEvents = { "firstEvent" }
    }
    using AODSIMEventContent
  }

  module printEventNumber = AsciiOutputModule { }

  module processOneEvent = StopAfterNEvents { int32 maxEvents = 1 }

  path firstEvent = { processOneEvent }

  endpath out = {
    RECO, RECO_1, 
    AOD, AOD_1, 
    RECOSIM, RECOSIM_1, 
    AODSIM, AODSIM_1, 
    FEVT, FEVT_1,
    printEventNumber
  }
}
